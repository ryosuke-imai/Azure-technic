# Security & Compliance

- [Security & Compliance](#security--compliance)
  - [はじめに](#はじめに)
  - [ゼロトラスト 方法とは](#ゼロトラスト-方法とは)
    - [3 つの原則](#3-つの原則)
    - [実現するための6つの要素](#実現するための6つの要素)
  - [共同責任モデル](#共同責任モデル)
    - [責任範囲例](#責任範囲例)
      - [オンプレミスのデータセンタ](#オンプレミスのデータセンタ)
      - [IaaS : Infrastructure as a Service](#iaas--infrastructure-as-a-service)
      - [PaaS : Platform as a Service](#paas--platform-as-a-service)
      - [SaaS : Software as a Service](#saas--software-as-a-service)
  - [多層防御](#多層防御)
    - [層の種類](#層の種類)
    - [セキュリティーのトレードオフの考え方 (CIA)](#セキュリティーのトレードオフの考え方-cia)
  - [キーワード](#キーワード)
  - [参考サイト](#参考サイト)

## はじめに

セキュリティーについてとは年々複雑な概念になっている。なので、今現時点でのセキュリティーに対する考え方を整理しておく。

このドキュメントで整理するのは、一般的なセキュリティーの脅威と多層防御の保護について。そのうえで、Azure のセキュリティーも整理する。


- ゼロトラストと共同責任

## ゼロトラスト 方法とは

セキュリティーの考え方をいう

前提 : 信頼されていないオープンなネットワーク上にすべてがある  

方針 : **だれも信用するな、すべて検証しろ という原則**

### 3 つの原則

1. 明示的に検証する : 使用可能なデータポイント（ユーザID、場所、デバイス、サービスまたはワークフロー、データ分類、異常など）に、基づいて認証と許可を行う。
1. 最小限の特権アクセス : データと生産性の両方を保護するために、 JIT/JEA(Just-in-Time and Just-Enough-Access)、リスクベースのアダプティブポリシー、データ保護を使用してユーザアクセスを制限する。
1. 侵害を想定する : ネットワーク、ユーザ、デバイス、およびアプリケーション別にアクセスを制限する。暗号化でデータ保護、分析で可視化から脅威を検出、セキュリティーを強化する

### 実現するための6つの要素

要素を連係しながらセキュリティーを担保。それが基本

- ID : ユーザ、サービス、デバイス含めてそのID。リソースへのアクセス時点で認証をおこない、検証することが必要（最小限のアクセス原則）
- デバイス : デバイスはオンプレとクラウドへのアクセスをする。その流れの中に攻撃対象が生まれる。デバイスの正常性とコンプライアンスの監視が必要
- アプリケーション : データの消費の方法。つまりはすべてのアプリケーションがデータに正しくアクセスしているか。許可、アクセス管理の観点が必要
- データ : その属性に基づいて分類、ラベル付け、暗号化が必要（つまりは、データ保護がセキュリティー対策の肝。他の要素をから離れても安全な状態になっていること）
- インフラストラクチャ : 対象環境のバージョン、構成、JITアクセスを常に評価して、（テレメトリを利用して）攻撃や異常を検出、その結果自動でブロックや保護を行う必要。
- ネットワーク : ネットワークをセグメント化し、リアルタイムの脅威保護、エンドツーエンドの暗号化、監視、分析をする必要

![ゼロトラスト方法の全体イメージ](https://docs.microsoft.com/ja-jp/learn/wwl-sci/describe-security-concepts-methodologies/media/2-zero-trust-pillars-v2.png)

これら 6 つを連携して組織のセキュリティーポリシーを適用する。

## 共同責任モデル

クラウド事業者と顧客のセキュリティータスクを分離して、それぞれ共有しながらセキュリティーを担保すること。

つまり、**責任を明確にできること** が利点

![共同責任モデル](https://docs.microsoft.com/ja-jp/learn/wwl-sci/describe-security-concepts-methodologies/media/3-shared-responsibility-model-responsibilites-type.png)
[イメージ出展](https://docs.microsoft.com/ja-jp/learn/wwl-sci/describe-security-concepts-methodologies/media/3-shared-responsibility-model-responsibilites-type.png)

### 責任範囲例

#### オンプレミスのデータセンタ

すべてはユーザの責任（物理的なセキュリティと機密データそのものの暗号化まで）

#### IaaS : Infrastructure as a Service

クラウド業者の責務 : 物理的な機材（ハードウェア故障）、物理的なセキュリティー（入館、機器への物理アクセス）

ユーザの責務 : OS、ネットワーク制御、アプリケーション、データの保護などのソフトウェアコンポネント

#### PaaS : Platform as a Service

クラウド業者の責務 : IaaS の責務に加えてOSなどのプラットフォーム

ユーザの責務 : IaaS の責務からOSなどのプラットフォーム

#### SaaS : Software as a Service

クラウド業者の責務 : データ、デバイス、アカウント、ID以外すべて


## 多層防御

セキュリティーへの複数層アプローチによって、防御をすること。
- 多数の層で攻撃の進行を遅らせる
- 段階的な層による不正アクセスが回避されるようにする

### 層の種類

- 物理的なセキュリティー
  - データセンターへのアクセスが許可された担当社のみに制限する
- IDとアクセス
  - インフラストラクチャと変更制御へのアクセスを制御するための多要素認証や条件ベースのアクセスなどの ID とアクセス セキュリティー制御
- 境界
  - ユーザへのアクセス不可を発生する大量アクセス攻撃を、フィルタリングする分散型サービス拒否（DDos）保護。
- ネットワーク
  - リソース間の通信を制御するためのネットワークセグメント化とアクセス制御
- コンピューティング層 
  - 特定のポートへの制御を行う。
- アプリケーション層
  - アプリケーション自体のセキュリティー保護
- データ層
  - データアクセスとデータを保護するための暗号化管理制御

![層のイメージ](https://docs.microsoft.com/ja-jp/learn/wwl-sci/describe-security-concepts-methodologies/media/4-defense-depth.png)

### セキュリティーのトレードオフの考え方 (CIA)


- 機密性
  - 顧客情報、パスワード、財務データなどの機密データを保持する必要があることです。 データを暗号化して機密性を保つことができますが、暗号化キーの機密性を保つ必要もあります。 機密性は、セキュリティの最も可視的な部分です。機密データ、キー、パスワード、およびその他のシークレットの機密性を保つ必要があるかどうかを明確に確認できます
- 整合性
  - データやメッセージが正しいことです。 電子メール メッセージを送信するときに、受信したメッセージが送信されたメッセージと同じであることを確認する必要があります。 データをデータベースに格納するときに、取得したデータが格納したデータと同じであることを確認する必要があります。 データを暗号化すると機密性が保たれますが、暗号化される前と同じ状態になるように暗号化を解除できる必要があります。 整合性とは、データが改ざんまたは改変されていない確信があること
- 可用性（CIA）
  - 必要とするユーザーがデータを使用できるようにすることです。 組織にとって顧客データの安全性を保つことが重要ですが、同時に、顧客との取引を行う従業員がデータを使用できる必要もあります。 暗号化された形式でデータを格納する方が安全である場合もありますが、従業員にはデータの暗号化を解除するアクセス権が必要

![機密性、整合性、可用性](https://docs.microsoft.com/ja-jp/learn/wwl-sci/describe-security-concepts-methodologies/media/4-confidentiality-integrity-availability.png)



## キーワード

- ゼロトラストモデル : 脅威は必ずあるという前提で、６0つの要素を連携しながら対策すること
- 共有責任モデル : クラウド事業者とユーザがそれぞれの責任範囲を明確にして対策を行うこと




## 参考サイト

- [Ms Learn](https://docs.microsoft.com/ja-jp/learn/modules/describe-security-concepts-methodologies/?source=learn)

